"use strict";angular.module("animates.angular-timeline",[]).directive("animatesTimelinepoint",function(){return{restrict:"E",template:"",scope:{point:"="},link:{pre:function($scope,element){element.css({left:$scope.point.tick+"px"}),element.addClass("timeline-point"),console.log("animatesTimelinepoint")},post:function(){console.log("animatesTimelinepoint-post")}}}}).directive("animatesTimelineevent",function(){return{restrict:"E",template:"",scope:{evt:"="},link:function($scope,element){var evt=$scope.evt;element.css({left:evt.start+"px",width:evt.duration+"px"}),element.addClass("timeline-event"),element.addClass(evt.class),console.log("animatesTimelineevent")}}}).directive("animatesTimeline",function(){return{restrict:"E",template:"<div class='timeline-content'><animates-timelinepoint ng-repeat='point in data.points' point='point'> </animates-timelinePoint><animates-timelineevent ng-repeat='event in data.events' evt='event'> </animates-timelineevent></div>",scope:{data:"="},link:function($scope,element){$scope.data.points&&element.addClass("points"),$scope.data.events&&element.addClass("events"),console.log("animatesTimeline")}}}).directive("animatesTimelines",function($timeout){return{restrict:"E",template:"<input type='number' ng-change='tickchange();' ng-model='tick'></input><span>{{tick}}</span><div class='timelines-group' ><div class='timelinesHeaders'><div ng-repeat='timeline in data' class='timeline-part timeline-header' id='{{timeline.guid}}' rel='{{timeline.guid}}'><span class='timeline-header-track'>{{timeline.name}}</span></div></div><div class='timelinesContainer'><div ng-repeat='timeline in data' class='timeline-part timeline' id='{{timeline.guid}}'><div class='elementLinesContainer' rel='{{timeline.guid}}'><animates-timeline ng-repeat='line in timeline.lines' data='line'></div></div></div></div>",scope:{data:"=",tick:"=",tickchange:"&"},link:function(scope,element){console.log("link animate"),$timeout(function(){angular.forEach(element[0].querySelectorAll(".elementLinesContainer"),function(timeline){var id=angular.element(timeline).attr("rel"),height=angular.element(timeline)[0].offsetHeight;element[0].querySelector('.timeline-header[rel="'+id+'"]').style.height=height+"px"})})}}});